<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Naam Jap Counter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:linear-gradient(135deg,#ffd54f,#ffb300);
  --card:rgba(255,255,255,0.25);
  --text:#000;
  --accent:#000;
}

body{
  margin:0;
  font-family:Segoe UI, sans-serif;
  background:var(--bg);
  color:var(--text);
  text-align:center;
  min-height:100vh;
}

header{
  padding:14px;
  font-size:22px;
  font-weight:bold;
}

button{
  padding:10px 16px;
  border:none;
  border-radius:12px;
  background:var(--accent);
  color:#fff;
  margin:6px;
  cursor:pointer;
}

.card{
  backdrop-filter:blur(12px);
  background:var(--card);
  border-radius:18px;
  margin:15px;
  padding:15px;
}

.hidden{display:none;}

.circle{
  width:240px;
  height:240px;
  border-radius:50%;
  border:14px solid rgba(0,0,0,.2);
  margin:25px auto;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:42px;
  font-weight:bold;
  position:relative;
}

.circle::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:50%;
  border:14px solid var(--accent);
  transform:rotate(-90deg);
  stroke-dasharray:690;
  stroke-dashoffset:var(--fill,690);
  transition:.3s;
}

.meditation{
  animation:breath 6s infinite alternate;
}

@keyframes breath{
  from{transform:scale(1);}
  to{transform:scale(1.05);}
}
</style>
</head>

<body>

<header id="title">RADHARAMAN</header>

<!-- HOME -->
<div id="home" class="card">
  <div>
    <button onclick="changeLang()">üåê</button>
    <button onclick="changeTheme()">üé®</button>
    <button onclick="toggleMeditation()">üßò</button>
  </div>

  <h3 id="selectText">Select Jap Counter</h3>
  <button onclick="openCounter('radha')">Radha</button>
  <button onclick="openCounter('mahadev')">Mahadev</button>
  <button onclick="openCounter('ram')">Ram</button>

  <div class="card">
    üî• <span id="streak">0</span> Day Streak
  </div>
</div>

<!-- COUNTER -->
<div id="counter" class="hidden">
  <button onclick="back()">‚¨Ö Back</button>
  <h2 id="god"></h2>

  <div class="circle" id="circle" onclick="tap()">
    <span id="count">0</span>
  </div>

  <div class="card" id="stats"></div>
</div>

<audio id="bell">
<source src="data:audio/wav;base64,UklGRlIAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAAAAA=">
</audio>

<script>
let god="",lang=0,theme=0,meditation=false;
const langs=[
  {sel:"Select Jap Counter",today:"Today",total:"Total"},
  {sel:"‡§ú‡§™ ‡§ö‡•Å‡§®‡•á‡§Ç",today:"‡§Ü‡§ú",total:"‡§ï‡•Å‡§≤"},
  {sel:"‡§ú‡§™ ‡§ó‡§£‡§ï‡§É",today:"‡§Ö‡§¶‡•ç‡§Ø",total:"‡§∏‡§Æ‡§∏‡•ç‡§§"}
];

const themes=[
 ["linear-gradient(135deg,#ffd54f,#ffb300)","#000"],
 ["linear-gradient(135deg,#111,#333)","#fff"],
 ["linear-gradient(135deg,#4facfe,#00f2fe)","#003"],
 ["linear-gradient(135deg,#ff9a9e,#fad0c4)","#400"],
 ["linear-gradient(135deg,#56ab2f,#a8e063)","#020"],
 ["linear-gradient(135deg,#141e30,#243b55)","#fff"]
];

function key(k){return god+"_"+k;}

function openCounter(g){
  god=g;
  document.getElementById("home").classList.add("hidden");
  document.getElementById("counter").classList.remove("hidden");
  document.getElementById("god").innerText=g.toUpperCase();
  update();
}

function back(){
  document.getElementById("counter").classList.add("hidden");
  document.getElementById("home").classList.remove("hidden");
}

function tap(){
  let t=+localStorage.getItem(key("total"))||0;
  t++;
  localStorage.setItem(key("total"),t);

  let d=new Date().toDateString();
  let day=JSON.parse(localStorage.getItem(key("day"))||"{}");
  day[d]=(day[d]||0)+1;
  localStorage.setItem(key("day"),JSON.stringify(day));

  if(t%108===0){
    navigator.vibrate?.(200);
    document.getElementById("bell").play();
  }

  update();
}

function update(){
  let t=+localStorage.getItem(key("total"))||0;
  document.getElementById("count").innerText=t;

  let day=JSON.parse(localStorage.getItem(key("day"))||"{}");
  let today=day[new Date().toDateString()]||0;

  document.getElementById("stats").innerHTML=
    `${langs[lang].today}: ${today}<br>${langs[lang].total}: ${t}`;

  let fill=690-(t%108)/108*690;
  document.getElementById("circle").style.setProperty("--fill",fill);
}

function changeLang(){
  lang=(lang+1)%3;
  document.getElementById("selectText").innerText=langs[lang].sel;
}

function changeTheme(){
  theme=(theme+1)%themes.length;
  document.body.style.background=themes[theme][0];
  document.documentElement.style.setProperty("--accent",themes[theme][1]);
}

function toggleMeditation(){
  meditation=!meditation;
  document.getElementById("circle").classList.toggle("meditation",meditation);
}
</script>

</body>
</html>
