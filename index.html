<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Naam Jap Counter</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --accent:#000;
  --bg:linear-gradient(135deg,#ffd54f,#ffb300);
  --card:rgba(255,255,255,.3);
}

body{
  margin:0;
  font-family:Segoe UI, sans-serif;
  background:var(--bg);
  text-align:center;
  overflow-x:hidden;
}

.hidden{display:none}

header{
  padding:14px;
  font-size:22px;
  font-weight:bold;
}

button{
  padding:10px 16px;
  border:none;
  border-radius:12px;
  background:var(--accent);
  color:#fff;
  margin:6px;
  cursor:pointer;
}

.card{
  background:var(--card);
  backdrop-filter:blur(12px);
  border-radius:18px;
  padding:15px;
  margin:15px;
}

/* CIRCLE */
.circle{
  width:240px;
  height:240px;
  border-radius:50%;
  border:14px solid rgba(0,0,0,.2);
  margin:20px auto;
  position:relative;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:42px;
  font-weight:bold;
}

.circle::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:50%;
  border:14px solid var(--accent);
  transform:rotate(-90deg);
  stroke-dasharray:690;
  stroke-dashoffset:var(--fill,690);
  transition:.3s;
}

/* GOD NAME */
.god-name{
  font-size:42px;
  font-weight:900;
  margin-top:10px;
}

/* FLOATING TEXT */
.float{
  position:absolute;
  font-size:22px;
  opacity:.15;
  animation:float 20s linear infinite;
  pointer-events:none;
}

@keyframes float{
  from{transform:translateY(100vh)}
  to{transform:translateY(-120vh)}
}

/* MEDITATION */
.meditation body{
  filter:brightness(.9);
}
.meditation .float{
  animation-duration:40s;
}

/* LEADERBOARD */
.bar{
  height:120px;
  width:18%;
  background:#ff9800;
  display:inline-block;
  margin:4px;
  border-radius:6px;
}
</style>
</head>

<body>

<header id="title">RADHARAMAN</header>

<!-- FLOATING TEXT -->
<div id="floats"></div>

<!-- HOME -->
<div id="home" class="card">
  <button onclick="toggleLang()">üåê</button>
  <button onclick="toggleTheme()">üé®</button>
  <button onclick="toggleMeditation()">üßò</button>

  <h3 id="selectText"></h3>

  <button onclick="openCounter('radha')">Radha</button>
  <button onclick="openCounter('mahadev')">Mahadev</button>
  <button onclick="openCounter('ram')">Ram</button>

  <div class="card">
    üî• <span id="streak">0</span>
  </div>

  <div class="card">
    <h4 id="leaderTitle"></h4>
    <div id="bars"></div>
  </div>
</div>

<!-- COUNTER -->
<div id="counter" class="hidden">
  <button onclick="back()">‚¨Ö</button>

  <div class="god-name" id="godHindi"></div>

  <div class="circle" id="circle" onclick="tap()">
    <span id="count">0</span>
  </div>

  <div class="card" id="stats"></div>
</div>

<audio id="bell">
<source src="data:audio/wav;base64,UklGRlIAAABXQVZFZm10IBAAAAABAAEAESsAACJWAAACABAAZGF0YQAAAAA=">
</audio>

<script>
/* LANGUAGE DATA */
const text={
  en:{select:"Select Jap Counter",today:"Today",total:"Total",leader:"Weekly Leaderboard",streak:"Day Streak"},
  hi:{select:"‡§ú‡§™ ‡§ö‡•Å‡§®‡•á‡§Ç",today:"‡§Ü‡§ú",total:"‡§ï‡•Å‡§≤",leader:"‡§∏‡§æ‡§™‡•ç‡§§‡§æ‡§π‡§ø‡§ï ‡§≤‡•Ä‡§°‡§∞‡§¨‡•ã‡§∞‡•ç‡§°",streak:"‡§¶‡§ø‡§® ‡§≤‡§ó‡§æ‡§§‡§æ‡§∞"},
  sa:{select:"‡§ú‡§™ ‡§ó‡§£‡§ï‡§É",today:"‡§Ö‡§¶‡•ç‡§Ø",total:"‡§∏‡§Æ‡§∏‡•ç‡§§",leader:"‡§∏‡§æ‡§™‡•ç‡§§‡§æ‡§π‡§ø‡§ï ‡§Ö‡§ó‡•ç‡§∞‡§£‡•Ä",streak:"‡§¶‡§ø‡§®‡§æ‡§®‡•Å‡§ï‡•ç‡§∞‡§Æ"}
};

const godHindi={
  radha:"‡§∞‡§æ‡§ß‡§æ",
  mahadev:"‡§Æ‡§π‡§æ‡§¶‡•á‡§µ",
  ram:"‡§∞‡§æ‡§Æ"
};

let lang="hi",god="",med=false;

/* INIT */
updateLang();
spawnFloats();

/* FUNCTIONS */
function updateLang(){
  document.getElementById("selectText").innerText=text[lang].select;
  document.getElementById("leaderTitle").innerText=text[lang].leader;
}

function toggleLang(){
  lang=lang==="en"?"hi":lang==="hi"?"sa":"en";
  updateLang();
}

function openCounter(g){
  god=g;
  document.getElementById("home").classList.add("hidden");
  document.getElementById("counter").classList.remove("hidden");
  document.getElementById("godHindi").innerText=godHindi[g];
  update();
}

function back(){
  document.getElementById("counter").classList.add("hidden");
  document.getElementById("home").classList.remove("hidden");
}

function tap(){
  let t=+localStorage.getItem(god+"_t")||0;
  t++;
  localStorage.setItem(god+"_t",t);

  if(t%108===0){
    document.getElementById("bell").play();
    navigator.vibrate?.(200);
  }
  update();
}

function update(){
  let t=+localStorage.getItem(god+"_t")||0;
  document.getElementById("count").innerText=t;

  let fill=690-(t%108)/108*690;
  document.getElementById("circle").style.setProperty("--fill",fill);

  document.getElementById("stats").innerHTML=
    `${text[lang].today}: ${t%108}<br>${text[lang].total}: ${t}`;

  renderBars();
}

function renderBars(){
  let b=document.getElementById("bars");
  b.innerHTML="";
  for(let i=0;i<5;i++){
    let bar=document.createElement("div");
    bar.className="bar";
    bar.style.height=(40+Math.random()*80)+"px";
    b.appendChild(bar);
  }
}

function toggleMeditation(){
  med=!med;
  document.body.style.filter=med?"brightness(.9)":"";
}

function spawnFloats(){
  const words=["‡§∞‡§æ‡§Æ","‡§∞‡§æ‡§ß‡§æ","‡•ê ‡§®‡§Æ‡§É ‡§∂‡§ø‡§µ‡§æ‡§Ø","‡§π‡§∞‡•á ‡§ï‡•É‡§∑‡•ç‡§£"];
  for(let i=0;i<12;i++){
    let d=document.createElement("div");
    d.className="float";
    d.innerText=words[i%words.length];
    d.style.left=Math.random()*100+"%";
    d.style.animationDelay=Math.random()*20+"s";
    document.getElementById("floats").appendChild(d);
  }
}
</script>

</body>
</html>
